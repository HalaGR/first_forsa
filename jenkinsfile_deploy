pipeline {

	agent slave //run code with agent slave
		
		stages {
		
			stage("build") { // stage Build
			
				steps {
					git branch: 'main', url: 'https://github.com/spring-projects/spring-petclinic.git' //clone repo
          script{
							"./mvnw package"
						}
				}
				
			}
      stage("Archive artifact"){ 
        sh "scp -o workspace/Build_job/webapp/target/webapp.war ubuntu@ip:/var/lib/tomcat9/webapps"
      }
			
		}
	}
